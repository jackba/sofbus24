# Ръководство за работа с приложението #
В тази секция са описани действията, при които потребителят би имал някакви колебания или затруднения. Възможностите за навигация в съдържанието на приложението не са обяснени подробно, поради
интуитивността на действията, които трябва да се предприемат.

### Начален екран ###
Началният екран предоставя шест възможности за избор на действие:
  * **Виртуални табла** - предоставя информация за пристигането на колите на градския транспорт в реално време;
  * **GPS времена – Google Maps** - локализиране на текущото местоположение посредством вградените GPS или WiFi модули;
  * **Разписания** - графикът на градския транспорт, предоставен от системата за градска мобилност СКГТ;
  * **Любими** - спирките, маркирани от потребителя;
  * **Настройки** - набор от възможности за модифициране на функционалността и интерфейса на приложението;
  * **Изход**;
![https://sofbus24.googlecode.com/svn/Pictures/25.Start_screen.png](https://sofbus24.googlecode.com/svn/Pictures/25.Start_screen.png)
![https://sofbus24.googlecode.com/svn/Pictures/30.Exit.png](https://sofbus24.googlecode.com/svn/Pictures/30.Exit.png)

### Виртуални табла ###
Посредством избирането на това меню се осигурява достъп на потребителя до въвеждането на номера на спирката, която го интересува. В зависимост от вида на използваното устройство, се предоставя възможност за
въвеждане на номера от външна клавиатура, а при нейна липса –  до виртуална такава. Тъй като системата за градска мобилност използва защита от ботове, в някой случай е възможно да се появи допълнително
текстово поле, в което да се въведе текст от картинка, посредством който да се верифицирате.<br />
**_ВЕРСИЯ 1.10_** - Добавена е възможност за търсене на спирка по нейното име или част от него (освен вече наличната по номер на спирка). При търсене по част от името, е нужно да бъдат въведени поне 3 символа от него, след което се визуализира лист, съдържащ всички спирки, съдържащи този фрагмент.<br />
**_ВЕРСИЯ 1.13_** - Преправен е начинът на извличане на информацията, без значение от въведените символи.<br />
**_ВЕРСИЯ 1.15_** - Направени са следните подобрения:
  * Добавено е кирилизатор, позволяващ търсенето по име на спирка да се извършва, както на кирилица, така и на латиница.
  * Добавен е бутон "Помощ", указващ коя буква от кирилицата на коя от латиницата отговаря и обратното.
  * Променен е екранът, визуализиращ се в случаите, когато търсенето връща повече от един резултат, позволяващ добавянето на спирката в секцията "Любими", посредством маркирането на звездата, намираща се пред името на спирката.
<br><img src='https://sofbus24.googlecode.com/svn/Pictures/2.Choose_stop.png' />
<img src='https://sofbus24.googlecode.com/svn/Pictures/34.Cyrillic-Latin.png' />
<img src='https://sofbus24.googlecode.com/svn/Pictures/23.NoMatch.png' />
<img src='https://sofbus24.googlecode.com/svn/Pictures/24.NoInternet.png' />
<img src='https://sofbus24.googlecode.com/svn/Pictures/21.GPS_Stations_Choice.png' /></li></ul>

<h3>Информация в реално време ###
След избора на номер на спирка, се отваря нов екран, осигуряващ пълна информация за колите на градския транпорт, които преминават през нея, часовете на тяхното пристигане в реално време, както и посоката, в
която се движат. Заедно с това в горната част на екрана е показано времето, в което информацията е била извлечена. За удобство на потребителя е въведено и меню, посредством което спирката може да бъде маркирана
като любима, или да се види нейното разположение върху картата на София. При избор на опцията "Добави в любими", потребителят бива информиран, посредством диалогов прозорец, дали спирката, за която търси
информация, е добавена успешно или вече съществува там.<br />
**_ВЕРСИЯ 1.13_** - Добавен е бутон в горния десен ъгъл, даващ възможност за обновяване на извлечената информация.<br />
**_ВЕРСИЯ 1.15_** - Направени са следните подобрения:
  * Променен е видът на показващите се съобщения при възникване на грешка.
  * Добавен е номерът на спирката в статус бара.
  * Статус барът, визуализиращ името на спирката и часът, в която тя е извлечена, е направен статичен.
<br><img src='https://sofbus24.googlecode.com/svn/Pictures/26.Virtual_Boards.png' />
<img src='https://sofbus24.googlecode.com/svn/Pictures/4.Add_to_favorites.png' />
<img src='https://sofbus24.googlecode.com/svn/Pictures/5.Show_on_map.jpg' /></li></ul>

<h3>Виртуални табла – Google Maps ###
Това меню предоставя възможност за локализирането на потребителя, посредством използването на някой от вградените модули за това – Netowrk/WiFi или GPS. В случай, че нито един от тях не е наличен, потребителят
бива информиран, като му се предоставя възможност, посредством отварянето на нов екран, да включи някой от тях. Времето нужно за локализиране зависи от това къде се намирате и кой от модулите се използва.
Когато потребителят бъде локализиран, текущото му местоположение се маркира със мигаща синя точка, оградена от прозрачен кръг, указващ точността при локализацията, като колкото по-малък е кръгът, толкова по
точно е позиционирането. Точността зависи, както от модулът използван за определяне на местоположението, така и от мястото, на което се намираме.
Заедно с това, се визуализират и най-близките 8 спирки около тази позиция (като жълт автобус), както и тези маркирани като любими от потребителя (като звездичка). Освен това се предоставя възможност за
визуалзирането на спирките около всяка избрана точка от картата, единствено посредством кликването върху нея.
Всяка визуалзирана спирка е обект, който може да бъде маркиран, като при неговото избиране се отваря балон с информация за нейното име и номер. Този балон е линк към екран, показващ информация за спирката в
реално време (обяснен в "информация в реално време").
Въведено е и меню, посредством което потребителят да бъде максимално улеснен, и да му се предостави възможност до различен набор от функции, като:
  * **Маршрут** - дава информация за разстоянието от текущото местоположение до спирка избрана от потребителя. За да бъде използвана тази опция, първоначално Андроид устройството трябва да локализира текущото местоположение, както и потребителят да е избрал интересуващата го спирка;
  * **Позиционирай** - позиционира фокуса на екрана на текущото местоположение (без значение от това коя част от картата се разглежда в този момент) - изисква Андроид устройството да е локализирало текущото местоположение;
  * **Изчисти** - премахва всички обекти на картата, като презарежда всичко от начало;
  * **Помощ** - подробна информация за наличните опции;
Освен всичко това, потребителят може да сменя начина на визуализиране на картата от "street view" в "satellite view" и обратното, посредством кликването на бутона в горния десен ъгъл.<br />
**_ВЕРСИЯ 1.13_** - Добавена е допълнителна функционалност на бутон "Разстояние", която изчертава маршрута от текущото местоположение до избраната спирка;<br />
**_ВЕРСИЯ 1.15_** - Направени са следните подобрения:
  * Добавена е допълнителна функционалност на бутона "GPS времена Google Maps", позволяваща визуализирането на най-близките спирки и разстоянието до тях, без използването на картата на Google Maps.
  * Лентата, показваща търсенето на текущото местоположение, се появява само първия път, при търсенето на съотвените координати.
<br><img src='https://sofbus24.googlecode.com/svn/Pictures/35.LoadingStations.png' />
<img src='https://sofbus24.googlecode.com/svn/Pictures/36.ClosestStationsList.png' />
<img src='https://sofbus24.googlecode.com/svn/Pictures/6.GPS-Map.jpg' />
<img src='https://sofbus24.googlecode.com/svn/Pictures/8.GPS-Map_Menu.jpg' />
<img src='https://sofbus24.googlecode.com/svn/Pictures/9.GPS-Map_Distance.jpg' />
<img src='https://sofbus24.googlecode.com/svn/Pictures/29.Route.png' /></li></ul>

<h3>Разписание на колите ###
При избора на това меню се предоставя пълен списък с всички налични коли на градския транспорт. Те са структурирани в 3 отделни таба – автобуси, тролейбуси и трамваи. Поради големия брой на превозните средства
е предоставена възможност за търсене "on the fly". В текстовото поле се въвежда някакво число, като списъка отдолу се обновява автоматично, показвайки, превозните средства, отговарящи на въведените критерии. След
избирането на превозното средство, се предоставя информация за посоките, в които то пътува. При избиране на някоя от тях, се отваря нов екран, съдържащ списък с всички спирки на съответната линия, както и
възможност за смяна на посоката на пътуване. Този екран съдържа и меню, посредством което се визуализира маршрута на избраното превозно средство върху картата на София.
При избирането на спирка от списъка, се отваря нов екран, който я визуализира върху картата. Освен това се появява и балонче с информация за часовете от разписанието на съответната линия. Вграденото меню
спомага за добавянето на спирката като "любима", както и позициониране на фокуса на екрана върху избраната спирка (в случай , че той бъде изместен).<br />
**_ВЕРСИЯ 1.10_** - Въведено е контекстно меню, даващо възможност за избор между преглед на времената на пристигане в реално време или според разписанието, както и добавяне в любими. Добавена е и опция в менюто "ПОМОЩ", даващ подробна информация за всяка една функционалност.<br />
**_ВЕРСИЯ 1.15_** - Направени са следните подобрения:
  * Търсенето по номер на спирка може да се активира и с бутона "Търсене" (ако такъв съществува) на съответното Андроид устройство.
  * Статус баровете са направени статични.
  * Екранът, изобразяващ спирките за дадена линия, е променен, добавяйки възможност за добавянето на спирката в секцията "Любими", посредством маркирането на звездата, намираща се пред името на спирката.
  * Екранът, изобразяващ разписанието за дадена кола на градския транспорт, е променен.
<br><img src='https://sofbus24.googlecode.com/svn/Pictures/10.Vehicles.jpg' />
<img src='https://sofbus24.googlecode.com/svn/Pictures/11.Search.png' />
<img src='https://sofbus24.googlecode.com/svn/Pictures/13.Stations.png' />
<img src='https://sofbus24.googlecode.com/svn/Pictures/22.Stations_Cotext_Menu.png' />
<img src='https://sofbus24.googlecode.com/svn/Pictures/14.Route.jpg' />
<img src='https://sofbus24.googlecode.com/svn/Pictures/15.Show_on_map.png' /></li></ul>

<h3>Любими ###
Тук се съдържа списък с всички спирки, добавени като любими, като неговата големина е неограничена. Той е сортиран по техните номера. Всеки елемент от списъка е линк към екран, показващ информация за спирката в реално време (обяснен в секцията "информация в реално време").
За улеснение са добавени две менюта:
  * **Меню при натискане на "меню" бутона на устройството** – предоставя възможност за изтриването на първата или всички спирки. Действията, които се извършват при избора, на която и да е опция, са необратими;
  * **Контекстно меню при задържане върху спирка** – предоставя възможност за преименуването или изтриването и. При избор на опцията "Преименувай" се отваря текстов диалогов прозорец, позволяващ да се въведе желания текст, като за удобство, номерът за спирката бива добавен автоматично след направените промени (т.е. спирката винаги бива визуализирана във вида _**"<име на спирка> (<номер на спирка>)"**_). Единственото условие е, въведенето име да се състои от поне един символ;
**_ВЕРСИЯ 1.10_** - Сменен е изгледът на контекстното меню.<br />
**_ВЕРСИЯ 1.13_** - Преправена е базата данни, съдържаща тези спирки.<br />
**_ВЕРСИЯ 1.15_** - Променен е начинът на визуализирането на грешките.
<br />![https://sofbus24.googlecode.com/svn/Pictures/16.Favorites.jpg](https://sofbus24.googlecode.com/svn/Pictures/16.Favorites.jpg)
![https://sofbus24.googlecode.com/svn/Pictures/17.Context_menu.png](https://sofbus24.googlecode.com/svn/Pictures/17.Context_menu.png)

### Настройки ###
Дава възможност на потребителите да променят интерфейса и функционалностите на приложението, в зависимост от техните нужди. Предлага следните възможности:
  * **Език** - възможност за избор на език (Български/Английски);
  * **Бутон "GPS Google Maps"** - определя функционалността на бутона;
  * **Бутон "Изход"** - дали да бъде използван диалогов прозорец при изход от приложението (изисква рестарт);
  * **Виртуални табла** - определя какво да се показва като време (оставащо време или времената на пристигане) в менюто **_ВИРТУАЛНИ ТАБЛА_**;
  * **Разписания** - определя какво да се показва като време (оставащо време или времената на пристигане) в менюто **_РАЗПИСАНИЯ_**;
  * **Брой най-близки спирки** - колко спирки да се визуализират около текущото местоположение или избрана точка в менюто **_GPS ВРЕМЕНА GOOGLE MAPS_**;
  * **Извлечена информация** - определя кое време да се използва за показване/пресмятане на извлечената информация в менюто **_ВИРТУАЛНИ ТАБЛА_**;
  * **Изглед на картата** - определя режима на картата (или Street View карта);
  * **Компас** - показва стрелка за ориентация на посоката в менюто **_GPS ВРЕМЕНА GOOGLE MAPS_**;
  * **Режим на картата** - указва дали да се визуализира иконата за смяна на режима на картата (в горния десен ъгъл) в менюто **_GPS ВРЕМЕНА GOOGLE MAPS_**;
  * **Позициониране** - определя дали картата да се позиционира при промяна на текущото местоположение;
  * **Информация** - информация за приложението;
![https://sofbus24.googlecode.com/svn/Pictures/27.Options.png](https://sofbus24.googlecode.com/svn/Pictures/27.Options.png)
![https://sofbus24.googlecode.com/svn/Pictures/32.Options2.png](https://sofbus24.googlecode.com/svn/Pictures/32.Options2.png)
![https://sofbus24.googlecode.com/svn/Pictures/31.Options_count_stations.png](https://sofbus24.googlecode.com/svn/Pictures/31.Options_count_stations.png)
![https://sofbus24.googlecode.com/svn/Pictures/33.Options_time.png](https://sofbus24.googlecode.com/svn/Pictures/33.Options_time.png)
![https://sofbus24.googlecode.com/svn/Pictures/28.Information.png](https://sofbus24.googlecode.com/svn/Pictures/28.Information.png)